<%- include("partials/header") -%>


    
    <!-- showcase & corousel -->

    <div id="showcase" class="row">    
        <div id="span-text" class="col-lg-6 col-md-6 col-sm-6">
        <h1>Get latest information for any currency in the crypto market.</h1>
        <p>Through API integration this site gives you the best, latest and accurate information on any cryptocurrency in the market. We will be launching the first mobile version of Deeno Cryptodata in the next few months.</p> 

        <button class="btn btn-light appstore" style="color: black;"><i class="fa-brands fa-apple" style="font-size: 20px;"></i>  App Store
        </button>
        <button class="btn btn-dark playstore"><i class="fa-brands fa-google-play"></i>  Google Play
        </button>
        </div>

        <div id="span-image" class="col-lg-6 col-md-6 col-sm-0">
        <div id="carouselExampleAutoplaying" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner ">
              <div class="carousel-item active">
                <img src="/images/img1.0.png" class="d-block w-100 carousel-img" alt="...">
              </div>
              <div class="carousel-item">
                <img src="/images/img2.0.png" class="d-block w-100 carousel-img" alt="...">
              </div>
              <div class="carousel-item">
                <img src="/images/img3.0.png" class="d-block w-100 carousel-img" alt="...">
              </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleAutoplaying" data-bs-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleAutoplaying" data-bs-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Next</span>
            </button>
          </div>
        </div>
    </div>

    <!-- search box  -->



    <div id="search-form" class="">
        <span id="search-text" class="">
            <h3 style="font-weight: 700; font-size: 40px;">Find Any Cryptocurrency</h3>
            <!-- <p>No registration needed. Enter a cryptocurrency and start looking.</p> -->
        </span>

        <div class="" id="search-bar">
            <form action="/home" method="post" class="d-flex " id="form" role="search">
                <input name="search" class="form-control me-2" id="search-input" size="4" type="search" placeholder="Search" aria-label="Search" autocomplete="off">
                <br>
                <button class="btn btn-dark" type="submit" onclick="empty()">Go</button>
            </form>
        </div>
        
    </div>


    <!-- data cards -->

    <section id="data-cards" class="container-fluid">
    
    <div id="data-header">
      <h2>Data Cards</h2>

        <p>Here is some information concerning the top crypto currencies on the market. The data provided is 100% accurate and <span style="color: #014751; font-weight: bold;">UPDATED EVERY SECOND</span> thanks to our fast and reliable API provider <a href="https://coincap.io/" target="_blank">Coincap</a></p>
      
    </div>
  
    <div class="row">
      <div class="col-lg-4 data-card">
      <div class="card text-bg-dark">
      <div class="card-header">
      <h3><img src="https://assets.coincap.io/assets/icons/<%= btcLogo %>@2x.png" alt="" style="width: 50px;"></h3>
      </div>
      <div class="card-body">
      <h2 class="card-title">Bitcoin</h2>


        <!-- function to shorten the number lenght  -->
      <%  function financial(x, num) { %>
        <%  return (Number.parseFloat(x).toFixed(num)).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","); %>
        <% } %>

        <hr>
      <table class="table table-dark table-hover">



        <tbody>
          <tr>
            <td >Rank :</td>
            <td># <%= btcRank %></td>
          </tr>
          <tr>
            <td >Symbol :</td>
            <td><%= btcSymbol %></td>
          </tr>
          <tr>
            <td >Supply :</td>
            <td><%= financial(btcSupply, 2) %></td>
          </tr>
          <tr>
            <td >Change :</td>
            <td class="%col"><%= financial(btcChange, 2) %> %</td>
          </tr>
          <tr class="card-footer bg-transparent ">
            <td >Price :</td>
            <td>$ <%= financial(btcPrice, 3) %> USD</td>
          </tr>
        </tbody>
      </table>

      </div>
      </div>
      </div>
  
      <div class="col-lg-4 data-card">
        <div class="card text-bg-dark">
        <div class="card-header">
        <h3><img src="https://assets.coincap.io/assets/icons/<%= ethLogo %>@2x.png" alt="" style="width: 50px;"></h3>
        </div>
          <div class="card-body">
            <h2 class="card-title">Ethereum</h2>
            <hr>
            <table class="table table-dark table-hover">

            

              <tbody>
                <tr>
                  <td >Rank :</td>
                  <td># <%= ethRank %></td>
                </tr>
                <tr>
                  <td >Symbol :</td>
                  <td><%= ethSymbol %></td>
                </tr>
                <tr>
                  <td >Supply :</td>
                  <td><%= financial(ethSupply, 2) %></td>
                </tr>
                <tr>
                  <td >Change :</td>
                  <td class="%col"><%= financial(ethChange, 2) %> %</td>
                </tr>
                <tr class="card-footer bg-transparent ">
                  <td >Price :</td>
                  <td>$ <%= financial(ethPrice, 3) %> USD</td>
                </tr>
              </tbody>
            </table>

          </div>
        </div>
      </div>
  
      <div class="col-lg-4 data-card">
        <div class="card text-bg-dark">
          <div class="card-header">
            <h3 style="padding: 10px 0px;"><i class="fa-solid fa-ranking-star fa-lg" style="color: #02f57c7a; "></i></h3>
          </div>
          <div class="card-body" style="padding: 10px 50px;">
          <h4 class="card-title ">Top 5</h4>
          <hr>
          <p>1. <span><%= rank1.name %> (<%= rank1.symbol %>)</span></p>
          <p>2. <span><%= rank2.name %> (<%= rank2.symbol %>)</span></p>
          <p>3. <span><%= rank3.name %> (<%= rank3.symbol %>)</span></p>
          <p>4. <span><%= rank4.name %> (<%= rank4.symbol %>)</span></p>
          <p>5. <span><%= rank5.name %> (<%= rank5.symbol %>)</span></p>
          <p id="card3-link" onclick="tablePage()">See Full Standings</p>
        </div>
          </div>
        </div>
      </div>
  
    </div>
    </section>

    <script>

      // script to regulate the values of the search input field

      function empty(){
        let input = document.getElementById("search-input");
        const form = document.getElementById("form");

        let text = (input.value).trim();


        if (text === "") {
          form.setAttribute("onsubmit", "return false;" );
          alert("Please type something...");
        } else {
          form.setAttribute("onsubmit", "return true;" );
        };

        input.value = text.replaceAll(" ", "");

      }




      // redirect to table page

      function tablePage(){
        window.location.replace("/table")
      }



      // script to change the color of %change if positive or negative 
  
      let collection = document.getElementsByClassName("%col");
  
        for (let i = 0; i < collection.length; i++) {
          const element = collection[i];
  
          if ((element.innerText)[0] === "-") {
            element.style.color = '#F44336';
            element.style.fontWeight = '300'
          } else {
            element.style.color = '#1DC677';
          }
          
        }
  
    </script>



<%- include("partials/footer") -%>